{% extends model('component') %}

{% define config = {
    name: 'product-quick-add-fields-partial',
    tag: 'product-quick-add-fields-partial',
} %}

{% define data = {
    form: required,
    minQuantity: 1,
    maxQuantity: null,
    quantityInterval: 1,
    messages: null,
    isDisabled: false,
} %}

{% block body %}
    <div class="col col--sm-12">
        {{ form_widget(data.form.children.quantity, {
            required: true,
            attr: {
                class: config.jsName ~ '__quantity',
                min: data.minQuantity,
                max: data.maxQuantity,
                step: data.quantityInterval,
                disabled: data.form.sku.vars.value is empty or data.isDisabled,
                value: data.form.sku.vars.value is empty or data.isDisabled ? null : data.minQuantity,
                placeholder: 'product_quick_add_widget.form.quantity' | trans,
            }}
        ) }}
    </div>

    {% if data.messages is not empty %}
        {% for message in data.messages if message.type is not empty %}
            <div class="{{ config.name }}__message {{ config.name }}__message--{{ message.type }} spacing-bottom spacing-bottom--big">
                {{ message.value | trans(
                    message.parameters
                ) }}
            </div>
        {% endfor %}
    {% endif %}
{% endblock %}
